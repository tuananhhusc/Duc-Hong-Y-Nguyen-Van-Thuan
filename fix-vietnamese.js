/**
 * Script to fix Vietnamese OCR errors in corpus.ts
 * 
 * The main issue is that some Vietnamese diacritic combinations are split by spaces.
 * For example: "Đ ức" → "Đức", "Th ầy" → "Thầy"
 * 
 * We need to be VERY careful to only fix actual OCR errors, not remove valid word spaces.
 * The pattern is: a consonant + space + a vowel with diacritic (when they should be combined)
 */

const fs = require('fs');
const path = require('path');

const corpusPath = path.join(__dirname, 'src/lib/data/corpus.ts');

// Read the file
let content = fs.readFileSync(corpusPath, 'utf8');

// SAFE specific replacements - these are DEFINITELY OCR errors
// Format: pattern with incorrect space → correct form

const specificFixes = [
    // Đ + space + vowel (Đ is always followed directly by a vowel in Vietnamese)
    ['Đ ức', 'Đức'],
    ['Đ ấng', 'Đấng'],
    ['Đ ã', 'Đã'],
    ['Đ i', 'Đi'],
    ['Đ ường', 'Đường'],
    ['Đ ạo', 'Đạo'],
    ['Đ âu', 'Đâu'],
    ['Đ ời', 'Đời'],
    ['Đ ộng', 'Động'],
    ['Đ ại', 'Đại'],
    ['Đ ược', 'Được'],
    ['Đ ạt', 'Đạt'],
    ['Đ ó', 'Đó'],
    ['Đ ến', 'Đến'],
    ['Đ áng', 'Đáng'],
    ['Đ ẹp', 'Đẹp'],
    ['Đ ồng', 'Đồng'],
    ['Đ ông', 'Đông'],
    ['Đ ừng', 'Đừng'],
    ['Đ ơn', 'Đơn'],
    ['Đ ổi', 'Đổi'],
    ['Đ ịnh', 'Định'],
    ['Đ ọc', 'Đọc'],
    ['Đ ội', 'Đội'],
    ['Đ iều', 'Điều'],
    ['Đ iểm', 'Điểm'],
    ['Đ ình', 'Đình'],
    ['Đ iên', 'Điên'],
    ['Đ iện', 'Điện'],
    ['Đ iếm', 'Điếm'],
    ['Đ iềm', 'Điềm'],
    ['Đ ệ', 'Đệ'],
    ['Đ ệ', 'Đệ'],
    ['Đ au', 'Đau'],
    ['Đ an', 'Đan'],
    ['Đ ạn', 'Đạn'],
    ['Đ áy', 'Đáy'],
    ['Đ áp', 'Đáp'],
    ['Đ è', 'Đè'],
    ['Đ em', 'Đem'],
    ['Đ en', 'Đen'],
    ['Đ êm', 'Đêm'],
    ['Đ ên', 'Đên'],
    ['Đ o', 'Đo'],
    ['Đ uổi', 'Đuổi'],
    ['Đ uôi', 'Đuôi'],

    // đ + space + vowel (lowercase)
    ['đ ã', 'đã'],
    ['đ ể', 'để'],
    ['đ ức', 'đức'],
    ['đ ường', 'đường'],
    ['đ ược', 'được'],
    ['đ ấng', 'đấng'],
    ['đ ạo', 'đạo'],
    ['đ ời', 'đời'],
    ['đ ại', 'đại'],
    ['đ ến', 'đến'],
    ['đ ầu', 'đầu'],
    ['đ ầy', 'đầy'],
    ['đ ổi', 'đổi'],
    ['đ ổ', 'đổ'],
    ['đ ứng', 'đứng'],
    ['đ ịa', 'địa'],
    ['đ ịnh', 'định'],
    ['đ ọc', 'đọc'],
    ['đ ộ', 'độ'],
    ['đ ối', 'đối'],
    ['đ ộng', 'động'],
    ['đ ồng', 'đồng'],
    ['đ ộc', 'độc'],
    ['đ ợi', 'đợi'],
    ['đ ỡ', 'đỡ'],
    ['đ óng', 'đóng'],
    ['đ ính', 'đính'],
    ['đ úng', 'đúng'],
    ['đ ủ', 'đủ'],
    ['đ ừng', 'đừng'],
    ['đ ơn', 'đơn'],
    ['đ iều', 'điều'],
    ['đ iểm', 'điểm'],
    ['đ iện', 'điện'],
    ['đ i', 'đi'],
    ['đ au', 'đau'],
    ['đ ậu', 'đậu'],
    ['đ áp', 'đáp'],
    ['đ áy', 'đáy'],
    ['đ ánh', 'đánh'],
    ['đ ẹp', 'đẹp'],
    ['đ ếm', 'đếm'],
    ['đ eo', 'đeo'],
    ['đ ẽ', 'đẽ'],
    ['đ iên', 'điên'],
    ['đ iếm', 'điếm'],

    // Specific word patterns with multiple consonants
    ['hy v ọng', 'hy vọng'],
    ['Hy V ọng', 'Hy Vọng'],
    ['Kit ô', 'Kitô'],
    ['kit ô', 'kitô'],
    ['Thi ên', 'Thiên'],
    ['thi ên', 'thiên'],

    // Complex middle-space patterns (consonant + vowel + space + diacritic)
    ['Đư ờng', 'Đường'],
    ['đư ờng', 'đường'],
    ['Đư ợc', 'Được'],
    ['đư ợc', 'được'],
    ['Th ư ờng', 'Thường'],
    ['th ư ờng', 'thường'],
    ['Tr ư ớc', 'Trước'],
    ['tr ư ớc', 'trước'],
    ['Ng ư ời', 'Người'],
    ['ng ư ời', 'người'],
    ['ch ư a', 'chưa'],
    ['Ch ư a', 'Chưa'],
    ['nh ư ng', 'nhưng'],
    ['Nh ư ng', 'Nhưng'],
    ['l ư ơng', 'lương'],
    ['h ư ớng', 'hướng'],
    ['h ư ởng', 'hưởng'],
    ['t ư ờng', 'tường'],
    ['t ư ởng', 'tưởng'],
    ['s ư ờn', 'sườn'],
    ['v ư ợt', 'vượt'],
    ['ph ư ơng', 'phương'],
    ['tr ư ờng', 'trường'],
    ['kh ư ớc', 'khước'],

    // Single letter patterns that were missed
    ['l à', 'là'],
    ['L à', 'Là'],
    ['c ái', 'cái'],
    ['C ái', 'Cái'],
    ['r ồ', 'rồ'],
    ['r ời', 'rời'],
    ['r ất', 'rất'],
    ['g ì', 'gì'],
    ['G ì', 'Gì'],
    ['g ọi', 'gọi'],
    ['g ửi', 'gửi'],
    ['g ặp', 'gặp'],
    ['g ắng', 'gắng'],
    ['g ần', 'gần'],
    ['g ấp', 'gấp'],
    ['g ại', 'gại'],
    ['k ẻ', 'kẻ'],
    ['K ẻ', 'Kẻ'],
    ['k ể', 'kể'],
    ['k ẽ', 'kẽ'],
    ['k ỷ', 'kỷ'],
    ['k ỉ', 'kỉ'],
    ['k ịp', 'kịp'],
    ['k ính', 'kính'],
    ['k ết', 'kết'],
    ['k ền', 'kền'],
    ['ô ng', 'ông'],
    ['Ô ng', 'Ông'],
    ['a nh', 'anh'],
    ['A nh', 'Anh'],
    ['a i', 'ai'],
    ['A i', 'Ai'],
    ['ả nh', 'ảnh'],
    ['Ả nh', 'Ảnh'],
    ['ấ y', 'ấy'],
    ['Ấ y', 'Ấy'],
    ['à', 'à'],
    ['ạ', 'ạ'],
    ['ã', 'ã'],
    ['ắt', 'ắt'],
    ['y ếu', 'yếu'],
    ['Y ếu', 'Yếu'],
    ['y êu', 'yêu'],
    ['Y êu', 'Yêu'],
    ['y ên', 'yên'],
    ['Y ên', 'Yên'],
    ['ý', 'ý'],
    ['Ý', 'Ý'],
    ['o ai', 'oai'],
    ['u ốn', 'uốn'],
    ['u ống', 'uống'],
    ['u ất', 'uất'],
    ['ê m', 'êm'],
    ['ề u', 'ều'],
    ['ệ nh', 'ệnh'],
    ['c ư ỡng', 'cưỡng'],
    ['d ù', 'dù'],
    ['d ưới', 'dưới'],
    ['d ẫn', 'dẫn'],
    ['d ễ', 'dễ'],
    ['d ữ', 'dữ'],
    ['d ụng', 'dụng'],
    ['d ạy', 'dạy'],
    ['d ốc', 'dốc'],
    ['d ồi', 'dồi'],
    ['d ầu', 'dầu'],
    ['d ấu', 'dấu'],
    ['d ứt', 'dứt'],
    ['d ị', 'dị'],
    ['d ịp', 'dịp'],
    ['d ịch', 'dịch'],
    ['d ục', 'dục'],
    ['d ành', 'dành'],
    ['d ạng', 'dạng'],
    ['đ ạng', 'đạng'],
    ['đ ạ', 'đạ'],
    ['đ ư', 'đư'],
    ['đ ừ', 'đừ'],
    ['o ái', 'oái'],
    ['o ạn', 'oạn'],
    ['o àn', 'oàn'],
    ['đ oàn', 'đoàn'],
    ['Đ oàn', 'Đoàn'],
    ['đ oạn', 'đoạn'],
    ['Đ oạn', 'Đoạn'],
    [' ờ ', ' ờ '],
    ['th ở', 'thở'],
    ['n ắn', 'nắn'],
    ['n ói', 'nói'],
    ['N ói', 'Nói'],
    ['n ó', 'nó'],
    ['N ó', 'Nó'],
    ['l ờ', 'lờ'],
    ['l ợ', 'lợ'],
    ['l ố', 'lố'],
    ['l ổ', 'lổ'],
    ['n úi', 'núi'],
    ['p hải', 'phải'],
    ['đ iểu', 'điểu'],
    ['p ội', 'pội'],
    ['b ác', 'bác'],
    ['B ác', 'Bác'],
    ['b ái', 'bái'],
    ['b ạo', 'bạo'],
    ['B ạo', 'Bạo'],
    ['ch ìa', 'chìa'],
    ['ch ống', 'chống'],
    ['ch ổi', 'chổi'],
    ['ch ền', 'chền'],
    ['ch ếch', 'chếch'],
    ['ch ư ớc', 'chước'],
    ['ch ừng', 'chừng'],
    ['v ư ờn', 'vườn'],
    ['b ư ớc', 'bước'],
    ['a nt', 'ant'],

    // Th + space patterns
    ['Th ánh', 'Thánh'],
    ['th ánh', 'thánh'],
    ['Th ần', 'Thần'],
    ['th ần', 'thần'],
    ['Th ế', 'Thế'],
    ['th ế', 'thế'],
    ['Th ầy', 'Thầy'],
    ['th ầy', 'thầy'],
    ['Th ật', 'Thật'],
    ['th ật', 'thật'],
    ['Th ời', 'Thời'],
    ['th ời', 'thời'],
    ['Th ương', 'Thương'],
    ['th ương', 'thương'],
    ['th ừa', 'thừa'],
    ['th ắng', 'thắng'],
    ['th ể', 'thể'],
    ['th ống', 'thống'],
    ['th ực', 'thực'],
    ['th ấy', 'thấy'],
    ['th ấp', 'thấp'],
    ['th ẩm', 'thẩm'],
    ['th ọ', 'thọ'],
    ['th ợ', 'thợ'],
    ['th ổ', 'thổ'],
    ['Th ư', 'Thư'],
    ['th ư', 'thư'],
    ['Th i', 'Thi'],
    ['th i', 'thi'],
    ['Th iên', 'Thiên'],
    ['th iên', 'thiên'],
    ['Th iện', 'Thiện'],
    ['th iện', 'thiện'],
    ['th iếu', 'thiếu'],
    ['th iểu', 'thiểu'],
    ['Th ập', 'Thập'],
    ['th ập', 'thập'],
    ['th ỉnh', 'thỉnh'],
    ['th ấu', 'thấu'],
    ['th ưởng', 'thưởng'],

    // Ch + space patterns
    ['Ch úa', 'Chúa'],
    ['ch úa', 'chúa'],
    ['ch ứng', 'chứng'],
    ['ch ỉ', 'chỉ'],
    ['ch ờ', 'chờ'],
    ['ch ắc', 'chắc'],
    ['ch ỗ', 'chỗ'],
    ['ch ọn', 'chọn'],
    ['ch ưa', 'chưa'],
    ['ch ịu', 'chịu'],
    ['ch ết', 'chết'],
    ['ch ẳng', 'chẳng'],
    ['ch ạy', 'chạy'],
    ['ch ống', 'chống'],
    ['ch ộn', 'chộn'],
    ['Ch ị', 'Chị'],
    ['ch ị', 'chị'],
    ['Ch ính', 'Chính'],
    ['ch ính', 'chính'],
    ['ch iếu', 'chiếu'],
    ['ch iến', 'chiến'],
    ['ch iếm', 'chiếm'],
    ['Ch ân', 'Chân'],
    ['ch ân', 'chân'],
    ['ch ấp', 'chấp'],
    ['ch ấm', 'chấm'],
    ['ch ất', 'chất'],
    ['ch ầu', 'chầu'],
    ['ch ầy', 'chầy'],

    // Kh + space patterns
    ['Kh ông', 'Không'],
    ['kh ông', 'không'],
    ['kh ách', 'khách'],
    ['kh ổ', 'khổ'],
    ['kh ó', 'khó'],
    ['kh ỏi', 'khỏi'],
    ['kh ỏe', 'khỏe'],
    ['kh ẩn', 'khẩn'],
    ['kh ức', 'khức'],
    ['Kh ôn', 'Khôn'],
    ['kh ôn', 'khôn'],
    ['kh ỏ', 'khỏ'],
    ['kh ởi', 'khởi'],
    ['kh ớp', 'khớp'],
    ['kh ướng', 'khướng'],
    ['kh ẳng', 'khẳng'],
    ['kh ẩu', 'khẩu'],
    ['kh ắc', 'khắc'],
    ['kh ắp', 'khắp'],

    // Ng + space patterns
    ['ng ười', 'người'],
    ['Ng ười', 'Người'],
    ['ng ợi', 'ngợi'],
    ['ng ọn', 'ngọn'],
    ['ng ồi', 'ngồi'],
    ['ng ày', 'ngày'],
    ['ng ắn', 'ngắn'],
    ['ng ũ', 'ngũ'],
    ['ng hiệm', 'nghiệm'],
    ['ng hiệp', 'nghiệp'],
    ['ng hĩa', 'nghĩa'],
    ['ng hỉ', 'nghỉ'],
    ['ng ủ', 'ngủ'],
    ['ng ờ', 'ngờ'],
    ['ng ạc', 'ngạc'],
    ['ng ẫu', 'ngẫu'],
    ['ng uy', 'nguy'],
    ['ng uyên', 'nguyên'],
    ['ng uyện', 'nguyện'],
    ['ng oan', 'ngoan'],
    ['ng oài', 'ngoài'],
    ['ng oại', 'ngoại'],
    ['ng ọt', 'ngọt'],
    ['ng ại', 'ngại'],

    // Nh + space patterns
    ['nh ững', 'những'],
    ['Nh ững', 'Những'],
    ['nh ất', 'nhất'],
    ['Nh ất', 'Nhất'],
    ['nh ờ', 'nhờ'],
    ['nh ận', 'nhận'],
    ['nh ạy', 'nhạy'],
    ['nh ịp', 'nhịp'],
    ['nh ắc', 'nhắc'],
    ['nh ỏ', 'nhỏ'],
    ['nh ỡ', 'nhỡ'],
    ['nh ủ', 'nhủ'],
    ['nh ượng', 'nhượng'],
    ['nh ưng', 'nhưng'],
    ['Nh ưng', 'Nhưng'],
    ['nh ư', 'như'],
    ['Nh ư', 'Như'],
    ['nh ường', 'nhường'],
    ['nh ẫn', 'nhẫn'],
    ['nh ẹ', 'nhẹ'],
    ['nh ẽ', 'nhẽ'],
    ['nh ục', 'nhục'],
    ['nh ân', 'nhân'],
    ['Nh ân', 'Nhân'],
    ['nh ập', 'nhập'],
    ['nh iên', 'nhiên'],
    ['nh iệm', 'nhiệm'],
    ['nh iều', 'nhiều'],
    ['nh ớ', 'nhớ'],
    ['nh iệt', 'nhiệt'],
    ['nh ịn', 'nhịn'],
    ['nh ảy', 'nhảy'],
    ['nh àng', 'nhàng'],
    ['nh àn', 'nhàn'],
    ['nh án', 'nhán'],

    // Ph + space patterns
    ['Ph úc', 'Phúc'],
    ['ph úc', 'phúc'],
    ['Ph ải', 'Phải'],
    ['ph ải', 'phải'],
    ['ph ần', 'phần'],
    ['ph ụ', 'phụ'],
    ['ph ục', 'phục'],
    ['ph ước', 'phước'],
    ['ph ẩm', 'phẩm'],
    ['ph ạm', 'phạm'],
    ['ph ương', 'phương'],
    ['ph ổ', 'phổ'],
    ['ph ố', 'phố'],
    ['Ph ép', 'Phép'],
    ['ph ép', 'phép'],
    ['ph ó', 'phó'],
    ['ph ô', 'phô'],
    ['ph ổi', 'phổi'],
    ['ph ỉ', 'phỉ'],
    ['ph ỏng', 'phỏng'],
    ['ph àn', 'phàn'],
    ['ph ạt', 'phạt'],
    ['ph ản', 'phản'],
    ['ph ẫu', 'phẫu'],

    // Gi + space patterns
    ['Gi áo', 'Giáo'],
    ['gi áo', 'giáo'],
    ['Gi êsu', 'Giêsu'],
    ['gi êsu', 'giêsu'],
    ['gi ữa', 'giữa'],
    ['gi ữ', 'giữ'],
    ['gi ống', 'giống'],
    ['gi ảm', 'giảm'],
    ['gi ả', 'giả'],
    ['gi ết', 'giết'],
    ['gi ới', 'giới'],
    ['gi ải', 'giải'],
    ['gi ản', 'giản'],
    ['gi an', 'gian'],
    ['gi àu', 'giàu'],
    ['gi ấy', 'giấy'],
    ['gi ấc', 'giấc'],
    ['gi ận', 'giận'],
    ['gi ờ', 'giờ'],
    ['gi ụ', 'giụ'],
    ['gi ọng', 'giọng'],
    ['gi úp', 'giúp'],
    ['gi ục', 'giục'],

    // Tr + space patterns
    ['Tr ời', 'Trời'],
    ['tr ời', 'trời'],
    ['tr ọng', 'trọng'],
    ['tr ước', 'trước'],
    ['tr úng', 'trúng'],
    ['tr ọn', 'trọn'],
    ['tr ả', 'trả'],
    ['tr ắng', 'trắng'],
    ['tr ần', 'trần'],
    ['tr ẻ', 'trẻ'],
    ['tr ống', 'trống'],
    ['tr ên', 'trên'],
    ['tr ong', 'trong'],
    ['Tr ong', 'Trong'],
    ['tr ường', 'trường'],
    ['Tr ường', 'Trường'],
    ['tr ưởng', 'trưởng'],
    ['tr ưởi', 'trưởi'],
    ['tr ị', 'trị'],
    ['tr ị', 'trị'],
    ['tr ình', 'trình'],
    ['tr ình', 'trình'],
    ['tr ực', 'trực'],
    ['tr ánh', 'tránh'],
    ['tr ách', 'trách'],
    ['tr ầm', 'trầm'],
    ['tr ạng', 'trạng'],
    ['tr ại', 'trại'],
    ['tr ái', 'trái'],
    ['tr uyền', 'truyền'],
    ['tr uyện', 'truyện'],

    // Qu + space patterns
    ['qu ả', 'quả'],
    ['Qu ả', 'Quả'],
    ['qu ý', 'quý'],
    ['Qu ý', 'Quý'],
    ['qu á', 'quá'],
    ['qu ốc', 'quốc'],
    ['Qu ốc', 'Quốc'],
    ['qu ỷ', 'quỷ'],
    ['qu ần', 'quần'],
    ['qu ẻ', 'quẻ'],
    ['qu ận', 'quận'],
    ['qu an', 'quan'],
    ['Qu an', 'Quan'],
    ['qu ên', 'quên'],
    ['qu ang', 'quang'],
    ['qu ảng', 'quảng'],
    ['qu ản', 'quản'],
    ['qu ấy', 'quấy'],
    ['qu yền', 'quyền'],
    ['qu yết', 'quyết'],

    // Single consonant + space + diacritic vowel patterns
    // These are less common but still happen
    ['l àm', 'làm'],
    ['l ại', 'lại'],
    ['l ần', 'lần'],
    ['l ời', 'lời'],
    ['l ỗi', 'lỗi'],
    ['l ượng', 'lượng'],
    ['l ượt', 'lượt'],
    ['l ạnh', 'lạnh'],
    ['l ạ', 'lạ'],
    ['l ớn', 'lớn'],
    ['l ửa', 'lửa'],
    ['l ương', 'lương'],
    ['l ễ', 'lễ'],
    ['l ỗ', 'lỗ'],
    ['l ý', 'lý'],
    ['l ệnh', 'lệnh'],
    ['l ệ', 'lệ'],
    ['l ạc', 'lạc'],
    ['l ắng', 'lắng'],
    ['l ẻ', 'lẻ'],
    ['l ẽ', 'lẽ'],
    ['l ối', 'lối'],
    ['l ộ', 'lộ'],
    ['l ộng', 'lộng'],
    ['l ợi', 'lợi'],
    ['l ực', 'lực'],
    ['l ừa', 'lừa'],
    ['l ữ', 'lữ'],
    ['l iều', 'liều'],
    ['l iệu', 'liệu'],
    ['l iền', 'liền'],
    ['l inh', 'linh'],
    ['l uận', 'luận'],
    ['l uôn', 'luôn'],
    ['lo ài', 'loài'],

    ['c ùng', 'cùng'],
    ['c ũng', 'cũng'],
    ['c ứu', 'cứu'],
    ['c ả', 'cả'],
    ['c ầu', 'cầu'],
    ['c ủa', 'của'],
    ['c ần', 'cần'],
    ['c ảm', 'cảm'],
    ['c ảnh', 'cảnh'],
    ['c ố', 'cố'],
    ['c ộng', 'cộng'],
    ['c ống', 'cống'],
    ['c ụ', 'cụ'],
    ['c ực', 'cực'],
    ['c ập', 'cập'],
    ['c ậu', 'cậu'],
    ['c òn', 'còn'],
    ['c ó', 'có'],
    ['c ải', 'cải'],
    ['c ưới', 'cưới'],
    ['c ười', 'cười'],
    ['c ương', 'cương'],
    ['c ưỡng', 'cưỡng'],
    ['c ạnh', 'cạnh'],
    ['c ặp', 'cặp'],
    ['c ắt', 'cắt'],
    ['c ử', 'cử'],
    ['cu ộc', 'cuộc'],
    ['cu ối', 'cuối'],
    ['chi êu', 'chiêu'],
    ['chi ến', 'chiến'],
    ['chi ếu', 'chiếu'],
    ['chi ếm', 'chiếm'],
    ['chi ều', 'chiều'],

    ['b ất', 'bất'],
    ['b ổn', 'bổn'],
    ['b ỏ', 'bỏ'],
    ['b ởi', 'bởi'],
    ['b ệnh', 'bệnh'],
    ['b ốn', 'bốn'],
    ['b ằng', 'bằng'],
    ['b ảo', 'bảo'],
    ['b ụi', 'bụi'],
    ['b ức', 'bức'],
    ['b ớt', 'bớt'],
    ['b ước', 'bước'],
    ['b ảy', 'bảy'],
    ['b ận', 'bận'],
    ['b ạn', 'bạn'],
    ['b ầu', 'bầu'],
    ['b ể', 'bể'],
    ['b ề', 'bề'],
    ['b ền', 'bền'],
    ['b ội', 'bội'],
    ['b ỗng', 'bỗng'],
    ['bu ổi', 'buổi'],
    ['bu ồn', 'buồn'],

    ['v ọng', 'vọng'],
    ['v ới', 'với'],
    ['v ẫn', 'vẫn'],
    ['v ẻ', 'vẻ'],
    ['v ề', 'về'],
    ['v ị', 'vị'],
    ['v ợ', 'vợ'],
    ['v ực', 'vực'],
    ['v ượt', 'vượt'],
    ['v ững', 'vững'],
    ['v âng', 'vâng'],
    ['v ĩnh', 'vĩnh'],
    ['v ậy', 'vậy'],
    ['v ật', 'vật'],
    ['v ấn', 'vấn'],
    ['v ắng', 'vắng'],
    ['v ốn', 'vốn'],
    ['v ụ', 'vụ'],
    ['v ỡ', 'vỡ'],
    ['v ờ', 'vờ'],
    ['v ẽ', 'vẽ'],
    ['vi ệc', 'việc'],
    ['vi ện', 'viện'],
    ['vi ết', 'viết'],
    ['vi ếng', 'viếng'],

    ['h ơn', 'hơn'],
    ['h ạnh', 'hạnh'],
    ['h ội', 'hội'],
    ['h ọc', 'học'],
    ['h ọp', 'họp'],
    ['h ỏi', 'hỏi'],
    ['h ương', 'hương'],
    ['h ưởng', 'hưởng'],
    ['h ướng', 'hướng'],
    ['h ầu', 'hầu'],
    ['h ấp', 'hấp'],
    ['h ẹp', 'hẹp'],
    ['h ề', 'hề'],
    ['h ệ', 'hệ'],
    ['h ồn', 'hồn'],
    ['h ố', 'hố'],
    ['h ổi', 'hổi'],
    ['h ợp', 'hợp'],
    ['h ủy', 'hủy'],
    ['h ứa', 'hứa'],
    ['h ễ', 'hễ'],
    ['h ằng', 'hằng'],
    ['h àng', 'hàng'],
    ['h ành', 'hành'],
    ['h ấn', 'hấn'],
    ['h ẩn', 'hẩn'],
    ['h ẫng', 'hẫng'],
    ['h ậu', 'hậu'],
    ['h iện', 'hiện'],
    ['h iểu', 'hiểu'],
    ['h iền', 'hiền'],
    ['h iệp', 'hiệp'],
    ['h iểm', 'hiểm'],
    ['h iến', 'hiến'],
    ['h iến', 'hiến'],
    ['hu ống', 'huống'],

    ['m ới', 'mới'],
    ['m ọi', 'mọi'],
    ['m ình', 'mình'],
    ['m ục', 'mục'],
    ['m ất', 'mất'],
    ['m ầu', 'mầu'],
    ['m ẫu', 'mẫu'],
    ['m ệt', 'mệt'],
    ['m ệnh', 'mệnh'],
    ['m ạnh', 'mạnh'],
    ['m ạng', 'mạng'],
    ['m ỗi', 'mỗi'],
    ['m ở', 'mở'],
    ['m ộ', 'mộ'],
    ['m ột', 'một'],
    ['m ửa', 'mửa'],
    ['m ưa', 'mưa'],
    ['m ối', 'mối'],
    ['m ộng', 'mộng'],
    ['m ùa', 'mùa'],
    ['m ức', 'mức'],
    ['m ãi', 'mãi'],
    ['m ọn', 'mọn'],
    ['mu ốn', 'muốn'],
    ['mi ệng', 'miệng'],

    ['n ào', 'nào'],
    ['n ữa', 'nữa'],
    ['n ếu', 'nếu'],
    ['n ền', 'nền'],
    ['n ữ', 'nữ'],
    ['n ặng', 'nặng'],
    ['n ổi', 'nổi'],
    ['n ở', 'nở'],
    ['n ợ', 'nợ'],
    ['n ội', 'nội'],
    ['n ước', 'nước'],
    ['n ắm', 'nắm'],
    ['n ỗi', 'nỗi'],
    ['n ổ', 'nổ'],
    ['n ạn', 'nạn'],
    ['n ắng', 'nắng'],
    ['n ắp', 'nắp'],
    ['n ếp', 'nếp'],
    ['n ỗ', 'nỗ'],
    ['n ơi', 'nơi'],
    ['n ửa', 'nửa'],
    ['n ương', 'nương'],
    ['n ướng', 'nướng'],
    ['ni ềm', 'niềm'],
    ['nu ôi', 'nuôi'],

    ['t ội', 'tội'],
    ['t ất', 'tất'],
    ['t ầm', 'tầm'],
    ['t ố', 'tố'],
    ['t ốt', 'tốt'],
    ['t ới', 'tới'],
    ['t ồn', 'tồn'],
    ['t ổ', 'tổ'],
    ['t ổng', 'tổng'],
    ['t ựa', 'tựa'],
    ['t ự', 'tự'],
    ['t ức', 'tức'],
    ['t ừ', 'từ'],
    ['t ưởng', 'tưởng'],
    ['t ươi', 'tươi'],
    ['t ầng', 'tầng'],
    ['t ế', 'tế'],
    ['t ệ', 'tệ'],
    ['t ần', 'tần'],
    ['t ầu', 'tầu'],
    ['t ập', 'tập'],
    ['t ận', 'tận'],
    ['t ạo', 'tạo'],
    ['t ại', 'tại'],
    ['t ục', 'tục'],
    ['t ượng', 'tượng'],
    ['t ước', 'tước'],
    ['t ươn', 'tươn'],
    ['t ướng', 'tướng'],
    ['t ường', 'tường'],
    ['t ĩnh', 'tĩnh'],
    ['t ình', 'tình'],
    ['t ịnh', 'tịnh'],
    ['ti ến', 'tiến'],
    ['ti ên', 'tiên'],
    ['ti ện', 'tiện'],
    ['ti ếp', 'tiếp'],
    ['ti ết', 'tiết'],
    ['ti ểu', 'tiểu'],
    ['ti ếng', 'tiếng'],
    ['tu ần', 'tuần'],
    ['tu ổi', 'tuổi'],

    ['s ống', 'sống'],
    ['s ự', 'sự'],
    ['s ức', 'sức'],
    ['s ợ', 'sợ'],
    ['s ẵn', 'sẵn'],
    ['s ạch', 'sạch'],
    ['s ắc', 'sắc'],
    ['s ắp', 'sắp'],
    ['s ổ', 'sổ'],
    ['s ữa', 'sữa'],
    ['s ứ', 'sứ'],
    ['s ầu', 'sầu'],
    ['s ẻ', 'sẻ'],
    ['s ẽ', 'sẽ'],
    ['s áng', 'sáng'],
    ['s ản', 'sản'],
    ['s ầm', 'sầm'],
    ['s ễ', 'sễ'],
    ['s ưởi', 'sưởi'],
    ['su ốt', 'suốt'],
    ['si nh', 'sinh'],

    ['r ất', 'rất'],
    ['r ồi', 'rồi'],
    ['r ằng', 'rằng'],
    ['r ộng', 'rộng'],
    ['r ỡ', 'rỡ'],
    ['r ỗi', 'rỗi'],
    ['r ời', 'rời'],
    ['r ủ', 'rủ'],
    ['r ừng', 'rừng'],
    ['r õ', 'rõ'],
    ['r àng', 'ràng'],
    ['r ạng', 'rạng'],
    ['r ẽ', 'rẽ'],
    ['r ụng', 'rụng'],
    ['r ước', 'rước'],
    ['r ưởi', 'rưởi'],
    ['r ưng', 'rưng'],
    ['ru ộng', 'ruộng'],

    ['x ảy', 'xảy'],
    ['x ấu', 'xấu'],
    ['x ứ', 'xứ'],
    ['x ử', 'xử'],
    ['x ưa', 'xưa'],
    ['x ưng', 'xưng'],
    ['x ứng', 'xứng'],
    ['x ác', 'xác'],
    ['x ây', 'xây'],
    ['x ế', 'xế'],
    ['x ét', 'xét'],
    ['x ong', 'xong'],
    ['x uất', 'xuất'],
    ['x uống', 'xuống'],

    ['ư ớc', 'ước'],
    ['ơ n', 'ơn'],
    ['ơ i', 'ơi'],

    // Missing specific patterns
    ['ng ươi', 'ngươi'],
    ['Ng ươi', 'Ngươi'],
    ['th êm', 'thêm'],
    ['h âm', 'hâm'],
    ['h ẩm', 'hẩm'],
    ['l iều', 'liều'],
    ['ch úng', 'chúng'],
    ['bi ết', 'biết'],
    ['C ác', 'Các'],
    ['C ủa', 'Của'],
    ['H ọ', 'Họ'],
    ['T a', 'Ta'],
    ['t a', 'ta'],
    ['m ọi', 'mọi'],

    // Fix sticky words (created by over-aggressive replacing or original OCR)
    ['vịấy', 'vị ấy'],
    ['rõhơn', 'rõ hơn'],
    ['tấtcả', 'tất cả'],
    ['tấtcảnhư', 'tất cả như'],
    ['cảnhư', 'cả như'],
    ['Chanhân', 'Cha nhân'],
    ['ranhư', 'ra như'],
    ['bácái', 'bác ái'],
    ['Chúađặt', 'Chúa đặt'],
    ['trênđường', 'trên đường'],
    ['rađi', 'ra đi'],
    ['thuđược', 'thu được'],
    ['Đườngấy', 'Đường ấy'],
    ['làđường', 'là đường'],
    ['vìđẹp', 'vì đẹp'],
    ['conđi', 'con đi'],
    ['rađi', 'ra đi'],
    ['sinhđược', 'sinh được'],
    ['Chúa Cha', 'Chúa Cha'],
    ['bướcđi', 'bước đi'],
    ['lốiđó', 'lối đó'],
    ['conđã', 'con đã'],
    ['mônđệ', 'môn đệ'],
    ['Tađược', 'Ta được'],
    ['mônđệ', 'môn đệ'],
    ['thúcđẩy', 'thúc đẩy'],
    ['Aiđến', 'Ai đến'],
    ['kẻẩn', 'kẻ ẩn'],
    ['tađược', 'ta được'],
    ['Đấngđãđến', 'Đấng đã đến'],
    ['khôngđểđược', 'không để được'],
    ['gìở', 'gì ở'],
    ['nhàđâu', 'nhà đâu'],
    ['thánhđược', 'thánh được'],
    ['Chúađã', 'Chúa đã'],
    ['chọnđể', 'chọn để'],
    ['chịđã', 'chị đã'],
    ['vịấy', 'vị ấy'],
    ['thêmđiều', 'thêm điều'],
    ['trảiqua', 'trải qua'],
    ['quanhiều', 'qua nhiều'],
    ['hồngphúc', 'hồng phúc'],
    ['loanbáo', 'loan báo'],

    // Fix triple question mark (OCR artifact for em-dash)
    ['??? ', '– '],
];

// Apply all specific fixes
for (const [pattern, replacement] of specificFixes) {
    // Use a simple string replacement (safer)
    content = content.split(pattern).join(replacement);
}

// Additional pass for sticky words that might form after first pass
const stickyFixes = [
    ['vịấy', 'vị ấy'],
    ['tấtcảnhư', 'tất cả như'],
    ['cảnhư', 'cả như'],
    ['Chanhân', 'Cha nhân'],
    ['ranhư', 'ra như'],
    ['bácái', 'bác ái'],
    ['trảiqua', 'trải qua'],
    ['quanhiều', 'qua nhiều'],
    ['loanbáo', 'loan báo'],
];

for (const [pattern, replacement] of stickyFixes) {
    content = content.split(pattern).join(replacement);
}

// Write back
fs.writeFileSync(corpusPath, content, 'utf8');

console.log('✅ Vietnamese text cleanup complete!');
console.log('Applied', specificFixes.length, 'pattern fixes.');
console.log('Please verify the changes in src/lib/data/corpus.ts');
